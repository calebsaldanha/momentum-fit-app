<%- include('../partials/header.ejs', { title, bodyClass: 'dashboard-body' }) %>
<div class="dashboard-container">
    <aside class="dashboard-sidebar">
        <nav class="sidebar-nav">
            <a href="/client/dashboard" class="nav-item"><span></span> Dashboard</a>
            <a href="/client/workouts" class="nav-item active"><span></span> Meus Treinos</a>
            <a href="/chat" class="nav-item"><span></span> Chat</a>
            <a href="/client/profile" class="nav-item"><span></span> Meu Perfil</a>
        </nav>
        <div class="sidebar-footer">
            <form action="/auth/logout" method="POST" style="margin: 0;">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                <button type="submit" class="btn-logout-sidebar">Sair</button>
            </form>
        </div>
    </aside>
    <main class="dashboard-main">
        <div class="section">
            <div class="section-header"><h1>Meus Treinos</h1><p>Aqui estão todos os seus planos de treino. Mantenha o Momentum!</p></div>
            <% if (workouts && workouts.length > 0) { %>
                <div class="workouts-grid" style="grid-template-columns: 1fr;">
                    <% workouts.forEach(workout => { %>
                        <div class="workout-card">
                            <div class="card-content">
                                <h3><%= workout.title %></h3>
                                <div class="workout-meta"><span>Por: <%= workout.trainer_name %></span><span>Criado em: <%= new Date(workout.created_at).toLocaleDateString('pt-BR') %></span></div>
                                <p class="workout-desc"><%= workout.description %></p>
                            </div>
                            <div class="card-footer"><a href="/workouts/<%= workout.id %>" class="btn btn-primary btn-sm">Ver Detalhes do Treino</a></div>
                        </div>
                    <% }); %>
                </div>
            <% } else { %>
                <div class="empty-state"><div class="empty-icon"></div><h3>Nenhum treino atribuído ainda.</h3><p>Seu treinador irá montar seu plano em breve. Enquanto isso, que tal enviar uma mensagem?</p><a href="/chat" class="btn btn-primary">Iniciar Conversa</a></div>
            <% } %>
        </div>
    </main>
</div>
<%- include('../partials/footer.ejs') %>
