<%- include('../partials/header.ejs') %>
<div class="dashboard-container">
    <%- include('../partials/sidebar.ejs', { path: '/client/plans' }) %>
    <main class="dashboard-main">
        <div class="mobile-dash-header">
            <button id="sidebarOpenBtn" class="btn btn-outline btn-sm"><i class="fas fa-bars"></i></button>
            <span>Planos</span>
        </div>

        <div class="page-header">
            <h1>Nossos <span class="text-neon">Planos</span></h1>
            <p>Escolha a melhor opção para atingir seus objetivos.</p>
        </div>

        <div class="plans-grid" style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:30px;">
            <% if (plans && plans.length > 0) { %>
                <% plans.forEach(plan => { %>
                    <div class="card-box plan-card" style="text-align:center; padding:30px; display:flex; flex-direction:column; <%= plan.name.includes('Premium') ? 'border: 1px solid var(--primary-color); box-shadow: 0 0 15px rgba(190, 242, 2, 0.2);' : '' %>">
                        <h2 style="color:white; font-size:1.8rem; margin-bottom:10px;"><%= plan.name %></h2>
                        <h3 style="color: var(--primary-color); font-size:2.5rem; margin-bottom:20px;">
                            <small style="font-size:1rem; color:#888;">R$</small> <%= parseFloat(plan.price).toFixed(2) %>
                        </h3>
                        <p style="color:#aaa; flex-grow:1; margin-bottom:30px;"><%= plan.description || plan.features %></p>
                        
                        <a href="/client/checkout/<%= plan.id %>" class="btn <%= plan.name.includes('Premium') ? 'btn-primary' : 'btn-outline' %> btn-lg">
                            Assinar Agora
                        </a>
                    </div>
                <% }) %>
            <% } else { %>
                <p>Nenhum plano disponível no momento.</p>
            <% } %>
        </div>
    </main>
</div>
<%- include('../partials/footer.ejs') %>
