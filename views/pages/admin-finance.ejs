<%- include('../partials/header.ejs') %>
<div class="dashboard-container">
    <%- include('../partials/sidebar.ejs') %>
    <main class="dashboard-main">
        <div class="content-wrapper">
            <div class="page-header">
                <h1>Financeiro</h1>
                <p class="text-muted">Controle de receitas e assinaturas.</p>
            </div>
            <div class="card-box" style="margin-bottom: 20px;">
                <span class="text-muted">Receita Mensal Estimada</span>
                <h1 style="color: var(--primary-color);">R$ <%= revenue.toFixed(2) %></h1>
            </div>
            <div class="card-box">
                <h3>Transações Recentes</h3>
                <br>
                <table class="data-table">
                    <thead><tr><th>Usuário</th><th>Plano</th><th>Valor</th><th>Status</th></tr></thead>
                    <tbody>
                        <% transactions.forEach(t => { %>
                        <tr>
                            <td><%= t.user %></td>
                            <td><%= t.plan %></td>
                            <td>R$ <%= t.amount %></td>
                            <td><span class="badge"><%= t.status %></span></td>
                        </tr>
                        <% }) %>
                    </tbody>
                </table>
            </div>
        </div>
        <%- include('../partials/footer.ejs') %>
    </main>
</div>
