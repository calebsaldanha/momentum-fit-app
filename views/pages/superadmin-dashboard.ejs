<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <%- include('../partials/header') %>
    <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <%- include('../partials/sidebar', { user: user, currentPage: 'superadmin-dashboard' }) %>

        <main class="dashboard-main">
            <header class="mb-4">
                <h1>Visão Global</h1>
                <p class="text-muted">Monitoramento em tempo real da plataforma.</p>
            </header>

            <% if (stats.pendingTrainers > 0 || stats.pendingClients > 0) { %>
                <div class="dashboard-card" style="border-left: 4px solid var(--warning-color);">
                    <h4 class="text-warning mb-3"><i class="fas fa-exclamation-triangle"></i> Atenção Necessária</h4>
                    <div style="display: flex; gap: 2rem; flex-wrap: wrap;">
                        <% if (stats.pendingTrainers > 0) { %>
                            <div>
                                <strong class="text-white"><%= stats.pendingTrainers %></strong> treinadores aguardando.
                                <a href="/superadmin/manage" class="text-warning ms-2">Verificar</a>
                            </div>
                        <% } %>
                        <% if (stats.pendingClients > 0) { %>
                            <div>
                                <strong class="text-white"><%= stats.pendingClients %></strong> alunos aguardando.
                                <a href="/superadmin/manage" class="text-warning ms-2">Verificar</a>
                            </div>
                        <% } %>
                    </div>
                </div>
            <% } %>

            <div class="stats-grid-modern">
                <div class="stat-card-modern">
                    <div class="stat-icon"><i class="fas fa-users"></i></div>
                    <div>
                        <h3 class="m-0"><%= stats.users %></h3>
                        <small class="text-muted">Usuários Totais</small>
                    </div>
                </div>
                <div class="stat-card-modern">
                    <div class="stat-icon"><i class="fas fa-dumbbell"></i></div>
                    <div>
                        <h3 class="m-0"><%= stats.trainers %></h3>
                        <small class="text-muted">Treinadores</small>
                    </div>
                </div>
                <div class="stat-card-modern">
                    <div class="stat-icon"><i class="fas fa-user-check"></i></div>
                    <div>
                        <h3 class="m-0"><%= stats.clients %></h3>
                        <small class="text-muted">Alunos Ativos</small>
                    </div>
                </div>
            </div>

            <div class="dashboard-card">
                <h3 class="mb-3">Acesso Rápido</h3>
                <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <a href="/superadmin/manage" class="btn btn-secondary">
                        <i class="fas fa-users-cog"></i> Gerenciar Usuários
                    </a>
                    <a href="/superadmin/create-trainer" class="btn btn-secondary">
                        <i class="fas fa-user-plus"></i> Novo Treinador
                    </a>
                    <a href="/articles/manage" class="btn btn-secondary">
                        <i class="fas fa-newspaper"></i> Gerenciar Artigos
                    </a>
                </div>
            </div>
        </main>
    </div>
</body>
</html>
