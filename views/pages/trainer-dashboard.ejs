<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <%- include('../layouts/app/head') %>
    <title>Trainer | Momentum Fit</title>
</head>
<body>
    <div class="dashboard-wrapper">
        <%- include('../partials/sidebar') %>
        <div class="main-content">
            <%- include('../partials/app-header') %>
            
            <div class="content-pad">
                <div class="welcome-banner" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <h1>Painel do Treinador</h1>
                    <p>Gerencie seus alunos e prescreva treinos.</p>
                </div>

                <div class="grid-3">
                    <div class="card">
                        <div style="font-size: 2rem; font-weight: bold;"><%= stats.active_clients %></div>
                        <div style="color: var(--text-secondary);">Alunos Ativos</div>
                    </div>
                    <div class="card">
                        <div style="font-size: 2rem; font-weight: bold;"><%= stats.total_workouts %></div>
                        <div style="color: var(--text-secondary);">Treinos Criados</div>
                    </div>
                </div>

                <div class="card" style="margin-top: 2rem;">
                    <div class="card-header">
                        <h3 class="card-title">Alunos Recentes</h3>
                        <a href="/trainer/clients" class="btn btn-outline" style="font-size: 0.8rem; padding: 0.4rem 1rem;">Ver Todos</a>
                    </div>
                    
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Último Acesso</th>
                                    <th>Ação</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% recentClients.forEach(client => { %>
                                <tr>
                                    <td><%= client.name %></td>
                                    <td><%= client.email %></td>
                                    <td><%= client.last_login ? new Date(client.last_login).toLocaleDateString() : '-' %></td>
                                    <td><a href="/trainer/clients/<%= client.id %>" style="color: var(--neon-blue);">Ver Perfil</a></td>
                                </tr>
                                <% }) %>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
