<%- include('../partials/header') %>

<div class="page-content-wrapper" style="display: flex; justify-content: center;">
    
    <div style="max-width: 800px; width: 100%;">
        
        <div style="text-align: center; margin-bottom: 3rem;">
            <h1 style="color: var(--primary); margin-bottom: 0.5rem;">Ficha de Anamnese Completa</h1>
            <p style="color: var(--text-muted);">Preencha com atenção para que seu treinador possa montar o treino ideal.</p>
        </div>

        <form action="/client/initial-form" method="POST">
            <input type="hidden" name="_csrf" value="<%= typeof csrfToken !== 'undefined' ? csrfToken : '' %>">

            <div class="form-section-card">
                <h3 style="color: white; border-bottom: 1px solid var(--border); padding-bottom: 1rem; margin-bottom: 1.5rem;">
                    <i class="fas fa-weight"></i> 1. Dados Pessoais e Corporais
                </h3>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <div class="form-group">
                        <label class="form-label">Data de Nascimento</label>
                        <input type="date" name="birthDate" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Gênero</label>
                        <select name="gender" class="form-input" required>
                            <option value="">Selecione...</option>
                            <option value="male">Masculino</option>
                            <option value="female">Feminino</option>
                            <option value="other">Outro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Peso Atual (kg)</label>
                        <input type="number" step="0.1" name="weight" class="form-input" placeholder="Ex: 75.5" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Altura (cm)</label>
                        <input type="number" name="height" class="form-input" placeholder="Ex: 175" required>
                    </div>
                </div>
            </div>

            <div class="form-section-card">
                <h3 style="color: white; border-bottom: 1px solid var(--border); padding-bottom: 1rem; margin-bottom: 1.5rem;">
                    <i class="fas fa-bullseye"></i> 2. Objetivos
                </h3>

                <div class="form-group">
                    <label class="form-label">Qual seu objetivo principal?</label>
                    <select name="primaryGoal" class="form-input" required>
                        <option value="weight_loss">Emagrecimento / Perda de Gordura</option>
                        <option value="hypertrophy">Hipertrofia / Ganho de Massa Muscular</option>
                        <option value="strength">Força Pura</option>
                        <option value="conditioning">Condicionamento Físico Geral</option>
                        <option value="health">Saúde / Qualidade de Vida</option>
                        <option value="rehabilitation">Reabilitação de Lesão</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Tem algum prazo específico? (Ex: casamento, verão, competição)</label>
                    <input type="text" name="goalDeadline" class="form-input" placeholder="Opcional. Ex: Casamento em 3 meses">
                </div>

                <div class="form-group">
                    <label class="form-label">Existe alguma parte do corpo que deseja focar mais?</label>
                    <input type="text" name="focusArea" class="form-input" placeholder="Ex: Glúteos, Peitoral, Abdômen...">
                </div>
            </div>

            <div class="form-section-card">
                <h3 style="color: white; border-bottom: 1px solid var(--border); padding-bottom: 1rem; margin-bottom: 1.5rem;">
                    <i class="fas fa-heartbeat"></i> 3. Histórico de Saúde (Muito Importante)
                </h3>

                <div class="form-group">
                    <label class="form-label">Você possui alguma lesão ou dor crônica?</label>
                    <div class="checkbox-group">
                        <label class="checkbox-option"><input type="checkbox" name="injuries[]" value="ombro"> Ombro</label>
                        <label class="checkbox-option"><input type="checkbox" name="injuries[]" value="joelho"> Joelho</label>
                        <label class="checkbox-option"><input type="checkbox" name="injuries[]" value="lombar"> Lombar</label>
                        <label class="checkbox-option"><input type="checkbox" name="injuries[]" value="tornozelo"> Tornozelo</label>
                        <label class="checkbox-option"><input type="checkbox" name="injuries[]" value="punho"> Punho</label>
                        <label class="checkbox-option"><input type="checkbox" name="injuries[]" value="cervical"> Cervical</label>
                    </div>
                    <input type="text" name="injuryDetails" class="form-input" style="margin-top: 10px;" placeholder="Se marcou algo, descreva aqui (Ex: Hérnia de disco L4-L5)">
                </div>

                <div class="form-group">
                    <label class="form-label">Toma algum medicamento de uso contínuo?</label>
                    <textarea name="medications" class="form-input" rows="2" placeholder="Nome e dosagem, ou deixe em branco."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Já fez alguma cirurgia?</label>
                    <input type="text" name="surgeries" class="form-input" placeholder="Ex: LCA joelho em 2018, Apêndice...">
                </div>

                <div class="form-group">
                    <label class="form-label">Histórico Cardíaco/Médico:</label>
                    <div class="checkbox-group">
                        <label class="checkbox-option"><input type="checkbox" name="medicalHistory[]" value="hipertensao"> Hipertensão</label>
                        <label class="checkbox-option"><input type="checkbox" name="medicalHistory[]" value="diabetes"> Diabetes</label>
                        <label class="checkbox-option"><input type="checkbox" name="medicalHistory[]" value="asma"> Asma/Bronquite</label>
                        <label class="checkbox-option"><input type="checkbox" name="medicalHistory[]" value="labirintite"> Labirintite</label>
                    </div>
                </div>
            </div>

            <div class="form-section-card">
                <h3 style="color: white; border-bottom: 1px solid var(--border); padding-bottom: 1rem; margin-bottom: 1.5rem;">
                    <i class="fas fa-coffee"></i> 4. Rotina e Estilo de Vida
                </h3>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <div class="form-group">
                        <label class="form-label">Profissão / Tipo de Trabalho</label>
                        <select name="occupationType" class="form-input">
                            <option value="sedentary">Sedentário (Sentado maior parte do dia)</option>
                            <option value="light">Leve (Em pé, caminha pouco)</option>
                            <option value="moderate">Moderado (Caminha bastante, carrega pouco peso)</option>
                            <option value="heavy">Pesado (Trabalho braçal intenso)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Horas de Sono (Média)</label>
                        <input type="number" name="sleepHours" class="form-input" min="1" max="15">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Nível de Estresse Diário (1 a 10)</label>
                    <input type="range" name="stressLevel" min="1" max="10" value="5" style="width:100%;">
                    <div style="display:flex; justify-content:space-between; font-size:0.8rem; color:var(--text-muted);">
                        <span>Baixo</span><span>Alto</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Consumo de Água Diário</label>
                    <select name="waterIntake" class="form-input">
                        <option value="low">Menos de 1 litro</option>
                        <option value="medium">1 a 2 litros</option>
                        <option value="high">2 a 3 litros</option>
                        <option value="excellent">Mais de 3 litros</option>
                    </select>
                </div>
            </div>

            <div class="form-section-card">
                <h3 style="color: white; border-bottom: 1px solid var(--border); padding-bottom: 1rem; margin-bottom: 1.5rem;">
                    <i class="fas fa-dumbbell"></i> 5. Preferências de Treino
                </h3>

                <div class="form-group">
                    <label class="form-label">Nível de Experiência</label>
                    <select name="experienceLevel" class="form-input" required>
                        <option value="beginner">Iniciante (Nunca treinei / Parado há > 6 meses)</option>
                        <option value="intermediate">Intermediário (Treino regular há 6m - 2 anos)</option>
                        <option value="advanced">Avançado (Treino consistente há > 2 anos)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Quantas vezes por semana você VAI treinar?</label>
                    <select name="frequency" class="form-input" required>
                        <option value="2">2 vezes (Mínimo)</option>
                        <option value="3">3 vezes</option>
                        <option value="4">4 vezes</option>
                        <option value="5">5 vezes</option>
                        <option value="6">6 vezes</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Tempo disponível por sessão</label>
                    <select name="duration" class="form-input" required>
                        <option value="30">30 a 40 minutos</option>
                        <option value="45">45 a 60 minutos (Ideal)</option>
                        <option value="60">Mais de 1 hora</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Local de Treino</label>
                    <select name="workoutLocation" class="form-input" required>
                        <option value="gym">Academia Completa</option>
                        <option value="condo">Academia de Condomínio (Equipamentos limitados)</option>
                        <option value="home_bodyweight">Em casa (Só peso do corpo)</option>
                        <option value="home_equipment">Em casa (Com alguns halteres/elásticos)</option>
                    </select>
                </div>
            </div>

            <button type="submit" class="btn btn-primary" style="font-size: 1.1rem; padding: 1rem;">
                Enviar Ficha Completa <i class="fas fa-check-circle"></i>
            </button>

        </form>
    </div>
</div>

<%- include('../partials/footer') %>
