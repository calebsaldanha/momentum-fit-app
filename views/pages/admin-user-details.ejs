<%- include('../partials/header.ejs') %>
<div class="dashboard-container">
    <%- include('../partials/sidebar.ejs', { path: '/admin/users' }) %>
    <main class="dashboard-main">
        <div class="page-header" style="display: flex; justify-content: space-between; align-items: center;">
            <div>
                <a href="/admin/users" class="btn btn-outline btn-sm" style="margin-bottom: 10px;"><i class="fas fa-arrow-left"></i> Voltar</a>
                <h1>Detalhes de <span class="text-neon"><%= targetUser.name %></span></h1>
            </div>
            <span class="badge" style="background: #333; padding: 5px 10px; border-radius: 4px;"><%= targetUser.role %></span>
        </div>

        <div class="card-box" style="margin-bottom: 20px;">
            <h3 style="color: white; margin-bottom: 15px;">Dados da Conta</h3>
            <p><strong style="color:#888">Email:</strong> <%= targetUser.email %></p>
            <p><strong style="color:#888">Status:</strong> <%= targetUser.status %></p>
            <p><strong style="color:#888">Criado em:</strong> <%= new Date(targetUser.created_at).toLocaleDateString() %></p>
        </div>

        <% if (targetUser.role === 'client' && details) { %>
            <h3 style="margin-bottom: 20px;">Ficha do Aluno</h3>
            <%- include('../partials/client-anamnesis-view.ejs', { client: details }) %>
        <% } %>

        <% if (targetUser.role === 'trainer' && details) { %>
            <div class="card-box">
                <h3 style="color: #4da6ff;">Perfil Profissional</h3>
                <p><strong>Especialização:</strong> <%= details.specialization || '-' %></p>
                <p><strong>Bio:</strong> <%= details.bio || '-' %></p>
                <p><strong>Certificações:</strong> <%= details.certifications || '-' %></p>
            </div>
        <% } %>

        <div style="margin-top: 30px;">
            <h3 style="color:red;">Zona de Perigo</h3>
            <button class="btn btn-outline" style="border-color: red; color: red;">Bloquear Usuário</button>
        </div>
    </main>
</div>
<%- include('../partials/footer.ejs') %>
