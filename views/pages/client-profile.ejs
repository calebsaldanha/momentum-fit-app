<%- include('../partials/header', { bodyClass: 'dashboard-body' }) %>

<div class="dashboard-container">
    <%- include('../partials/client-sidebar') %>

    <main class="dashboard-main">
        <div class="container">
            <h1>Meu Perfil</h1>

            <% if (!profile.id) { %>
                <div class="alert alert-warning">Perfil incompleto. <a href="/client/initial-form">Preencher agora</a></div>
            <% } else { %>

                <div class="client-info-grid">
                    <div class="info-card">
                        <h4>Dados Pessoais</h4>
                        <p><strong>Nome:</strong> <%= user.name %></p>
                        <p><strong>Email:</strong> <%= user.email %></p>
                        <p><strong>Idade:</strong> <%= profile.age %> anos</p>
                        <p><strong>Telefone:</strong> <%= profile.phone %></p>
                        <p><strong>Gênero:</strong> <%= profile.gender_identity %></p>
                    </div>

                    <div class="info-card">
                        <h4>Composição Corporal</h4>
                        <p><strong>Peso:</strong> <%= profile.weight %> kg</p>
                        <p><strong>Altura:</strong> <%= profile.height %> m</p>
                        <p><strong>IMC:</strong> <%= (profile.weight / (profile.height * profile.height)).toFixed(1) %></p>
                        <p><strong>Gordura:</strong> <%= profile.body_fat ? profile.body_fat + '%' : '-' %></p>
                        <div style="margin-top: 10px; padding-top: 10px; border-top: 1px dashed #333;">
                            <small style="color: #888;">Medidas:</small><br>
                            <span>Cintura: <%= profile.measure_waist || '-' %> | Quadril: <%= profile.measure_hip || '-' %></span><br>
                            <span>Braço: <%= profile.measure_arm || '-' %> | Perna: <%= profile.measure_leg || '-' %></span>
                        </div>
                    </div>

                    <div class="info-card" style="grid-column: 1 / -1;">
                        <h4>Objetivos e Histórico</h4>
                        <p><strong>Objetivo Principal:</strong> <%= profile.main_goal %></p>
                        <p><strong>Secundários:</strong> <%= profile.secondary_goals || '-' %></p>
                        <p><strong>Deadline/Evento:</strong> <%= profile.specific_event || 'Nenhum' %></p>
                        <hr style="border-color: #333; margin: 10px 0;">
                        <p><strong>Condições Médicas:</strong> <%= profile.medical_conditions || 'Nenhuma' %></p>
                        <p><strong>Lesões:</strong> <%= profile.injuries || 'Nenhuma' %></p>
                    </div>
                </div>

            <% } %>
        </div>
    </main>
</div>
<%- include('../partials/footer') %>
