<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <%- include('../layouts/app/head') %>
    <title><%= title %> | Momentum Fit</title>
</head>
<body class="bg-gray-50">
    <div class="flex h-screen overflow-hidden">
        <%- include('../partials/sidebar') %>

        <div class="relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden">
            <%- include('../partials/app-header') %>

            <main class="w-full flex-grow p-6">
                <div class="max-w-4xl mx-auto">
                    <h1 class="text-2xl font-bold text-gray-800 mb-6">Meu Perfil</h1>

                    <%- include('../partials/flash') %>

                    <div class="bg-white shadow-md rounded-xl overflow-hidden">
                        <form action="/client/profile" method="POST" class="p-8">
                            
                            <h2 class="text-lg font-semibold text-gray-700 mb-4 border-b pb-2">Dados Pessoais</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Nome Completo</label>
                                    <input type="text" value="<%= user.name %>" disabled class="w-full bg-gray-100 border border-gray-300 rounded-lg px-4 py-2 text-gray-500 cursor-not-allowed">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">E-mail</label>
                                    <input type="email" value="<%= user.email %>" disabled class="w-full bg-gray-100 border border-gray-300 rounded-lg px-4 py-2 text-gray-500 cursor-not-allowed">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Telefone / WhatsApp</label>
                                    <input type="text" name="phone" value="<%= user.phone || '' %>" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Data de Nascimento</label>
                                    <input type="date" name="birth_date" value="<%= profile.birth_date ? new Date(profile.birth_date).toISOString().split('T')[0] : '' %>" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                </div>
                            </div>

                            <h2 class="text-lg font-semibold text-gray-700 mb-4 border-b pb-2 mt-8">Perfil Físico</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Altura (cm)</label>
                                    <input type="number" name="height" value="<%= profile.height || '' %>" placeholder="Ex: 175" class="w-full border border-gray-300 rounded-lg px-4 py-2">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Peso Atual (kg)</label>
                                    <input type="number" step="0.1" name="weight" value="<%= profile.weight || '' %>" placeholder="Ex: 80.5" class="w-full border border-gray-300 rounded-lg px-4 py-2">
                                </div>
                            </div>

                            <div class="mb-6">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Objetivo Principal</label>
                                <select name="objective" class="w-full border border-gray-300 rounded-lg px-4 py-2 bg-white">
                                    <option value="emagrecimento" <%= profile.objective === 'emagrecimento' ? 'selected' : '' %>>Emagrecimento</option>
                                    <option value="hipertrofia" <%= profile.objective === 'hipertrofia' ? 'selected' : '' %>>Hipertrofia (Ganho de Massa)</option>
                                    <option value="resistencia" <%= profile.objective === 'resistencia' ? 'selected' : '' %>>Resistência / Condicionamento</option>
                                    <option value="saude" <%= profile.objective === 'saude' ? 'selected' : '' %>>Saúde e Bem-estar</option>
                                </select>
                            </div>

                            <div class="mb-8">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Restrições Médicas ou Lesões</label>
                                <textarea name="restrictions" rows="3" class="w-full border border-gray-300 rounded-lg px-4 py-2" placeholder="Descreva se possui alguma lesão, dor crônica ou restrição médica..."><%= profile.restrictions || '' %></textarea>
                            </div>

                            <div class="flex justify-end">
                                <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition shadow-lg transform hover:-translate-y-0.5">
                                    Salvar Alterações
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>
</body>
</html>
