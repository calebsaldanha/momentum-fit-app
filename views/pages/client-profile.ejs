<%- include('../partials/header.ejs', { title: 'Meu Perfil', bodyClass: 'dashboard-body' }) %>

<div class="dashboard-container" style="grid-template-columns: 1fr; max-width: 800px;">
    <aside class="dashboard-sidebar">
        <nav class="sidebar-nav">
            <a href="/client/dashboard" class="nav-item"><span></span> Dashboard</a>
            <a href="/client/workouts" class="nav-item"><span></span> Meus Treinos</a>
            <a href="/chat" class="nav-item"><span></span> Chat</a>
            <a href="/client/profile" class="nav-item active"><span></span> Meu Perfil</a>
        </nav>
    </aside>

    <main class="dashboard-main">
      <div class="section">
            <div class="section-header">
                <h1>Meu Perfil</h1>
                <p>Aqui você pode ver e atualizar suas informações.</p>
            </div>

            <form method="POST" action="/client/profile">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                <div class="form-group">
                    <label for="name">Seu nome</label>
                    <input type="text" id="name" name="name" value="<%= profile.name %>" required>
                </div>
                <!-- Pronomes removidos -->

                <div class="form-row">
                    <div class="form-group">
                        <label for="age">Idade</label>
                        <input type="number" id="age" name="age" min="16" max="100" required value="<%= profile.age || '' %>">
                    </div>
                    <div class="form-group">
                        <label for="fitness_level">Seu nível de experiência com exercícios</label>
                        <select id="fitness_level" name="fitness_level" required>
                            <option value="beginner" <%= profile.fitness_level === 'beginner' ? 'selected' : '' %>>Iniciante</option>
                            <option value="intermediate" <%= profile.fitness_level === 'intermediate' ? 'selected' : '' %>>Intermediário</option>
                            <option value="advanced" <%= profile.fitness_level === 'advanced' ? 'selected' : '' %>>Avançado</option>
                        </select>
                    </div>
                </div>
                <!-- Identidade de Gênero removida -->

                <div class="form-row">
                    <div class="form-group">
                        <label for="weight">Peso (kg) (opcional)</label>
                        <input type="number" id="weight" name="weight" step="0.1" min="30" max="200" value="<%= profile.weight || '' %>">
                    </div>
                    <div class="form-group">
                        <label for="height">Altura (cm) (opcional)</label>
                        <input type="number" id="height" name="height" min="100" max="250" value="<%= profile.height || '' %>">
                    </div>
                </div>

                <div class="form-group">
                    <label for="goals">Quais são seus objetivos principais com o treino?</label>
                    <textarea id="goals" name="goals" rows="4" required><%= profile.goals || '' %></textarea>
                </div>

                <!-- Campo de transição removido -->
              
                <div class="form-group">
                    <label for="medical_conditions">Você tem alguma condição médica, lesão ou limitação?</label>
                    <textarea id="medical_conditions" name="medical_conditions" rows="3"><%= profile.medical_conditions || '' %></textarea>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%;">Atualizar Perfil</button>
            </form>
        </div>
    </main>
</div>
<%- include('../partials/footer.ejs') %>
