<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <%- include('../layouts/app/head') %>
    <title>Painel | Momentum Fit</title>
</head>
<body>
    <div class="dashboard-wrapper">
        <%- include('../partials/sidebar') %>

        <div class="main-content">
            <%- include('../partials/app-header', { title: 'Visão Geral' }) %>

            <div class="content-scroll-area"> <div class="welcome-banner" style="margin-bottom: 30px; padding: 30px; background: linear-gradient(180deg, #111 0%, #050505 100%); border: 1px solid #222; border-radius: 12px; border-left: 4px solid var(--primary);">
                    <h1 style="font-size: 1.8rem; margin-bottom: 5px;">Olá, <%= user.name.split(' ')[0] %>! ⚡</h1>
                    <p style="color: #888;">Foco total hoje. Seu plano: <span class="badge badge-success"><%= stats.plan_name %></span></p>
                </div>

                <div class="grid-3">
                    <div class="card" style="grid-column: span 2;">
                        <div class="card-header">
                            <h3 class="card-title">Próximo Treino</h3>
                        </div>
                        <% if(nextWorkout) { %>
                            <h2 style="font-size: 1.5rem; margin-bottom: 10px;"><%= nextWorkout.name %></h2>
                            <p style="color: #888; margin-bottom: 20px;"><%= nextWorkout.description || 'Sem descrição.' %></p>
                            <a href="/client/workouts/<%= nextWorkout.id %>" class="btn btn-primary">Iniciar Agora</a>
                        <% } else { %>
                            <p>Nenhum treino programado.</p>
                            <a href="/client/workouts" class="btn btn-outline" style="margin-top: 10px;">Ver Biblioteca</a>
                        <% } %>
                    </div>

                    <div class="card">
                        <h3 class="card-title" style="margin-bottom: 15px;">Resumo</h3>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span style="color: #888;">Treinos Totais</span>
                            <span style="font-weight: 700;"><%= stats.total_workouts %></span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: #888;">Sequência</span>
                            <span style="font-weight: 700; color: var(--primary);"><%= stats.streak || 0 %> dias</span>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    
    <script src="/js/layout.js"></script>
</body>
</html>
