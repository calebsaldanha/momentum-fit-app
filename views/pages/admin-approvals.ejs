<%- include('../partials/header.ejs') %>
<div class="dashboard-container">
    <%- include('../partials/sidebar.ejs') %>
    <main class="dashboard-main">
        <div class="content-wrapper">
            <div class="page-header">
                <h1>Aprovações Pendentes</h1>
            </div>
            <% if(pendingTrainers.length === 0) { %>
                <div class="card-box" style="text-align: center; padding: 40px;">
                    <i class="fas fa-check-circle" style="font-size: 3rem; color: #333; margin-bottom: 10px;"></i>
                    <p class="text-muted">Nenhuma solicitação pendente.</p>
                </div>
            <% } else { %>
                <div class="content-grid">
                    <% pendingTrainers.forEach(t => { %>
                    <div class="card-box">
                        <h3><%= t.name %></h3>
                        <p class="text-muted"><%= t.email %></p>
                        <div style="margin: 15px 0; font-size: 0.9rem; background: #000; padding: 10px; border-radius: 6px;">
                            <strong>Specs:</strong> <%= t.specialties || '-' %><br>
                            <strong>Certs:</strong> <%= t.certifications || '-' %>
                        </div>
                        <div style="display:flex; gap:10px;">
                            <form action="/admin/approve-trainer/<%= t.trainer_id %>" method="POST" style="flex:1;">
                                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                                <button class="btn btn-primary btn-full">Aprovar</button>
                            </form>
                            <form action="/admin/reject-trainer/<%= t.trainer_id %>" method="POST" style="flex:1;">
                                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                                <button class="btn btn-outline btn-full" style="color:#ff4d4d; border-color:#ff4d4d;">Rejeitar</button>
                            </form>
                        </div>
                    </div>
                    <% }) %>
                </div>
            <% } %>
        </div>
        <%- include('../partials/footer.ejs') %>
    </main>
</div>
