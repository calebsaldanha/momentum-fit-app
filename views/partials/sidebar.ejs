<div class="mobile-overlay"></div>

<aside class="sidebar">
    <div class="brand">
        <div style="display: flex; align-items: center;">
            <span style="font-size: 1.5rem;">⚡</span> MOMENTUM
        </div>
        <button class="sidebar-close-btn">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <nav class="nav-links">
        <% const role = user.role ? user.role.toLowerCase() : 'client'; %>

        <% if (role === 'client') { %>
            <div class="nav-category">Performance</div>
            <a href="/client/dashboard" class="nav-item <%= path.includes('dashboard') ? 'active' : '' %>"><i class="fas fa-home"></i> Visão Geral</a>
            <a href="/client/workouts" class="nav-item <%= path.includes('workouts') ? 'active' : '' %>"><i class="fas fa-dumbbell"></i> Treinos</a>
            <a href="/client/evolution" class="nav-item <%= path.includes('evolution') ? 'active' : '' %>"><i class="fas fa-chart-line"></i> Evolução</a>
            <a href="/client/ai-coach" class="nav-item <%= path.includes('ai-coach') ? 'active' : '' %>"><i class="fas fa-robot"></i> AI Coach</a>
            
            <div class="nav-category">Conta</div>
            <a href="/client/plans" class="nav-item <%= path.includes('plans') ? 'active' : '' %>"><i class="fas fa-credit-card"></i> Planos</a>
            <a href="/client/profile" class="nav-item <%= path.includes('profile') ? 'active' : '' %>"><i class="fas fa-user-cog"></i> Configurações</a>
        <% } %>

        <% if (role === 'trainer') { %>
            <div class="nav-category">Gestão</div>
            <a href="/trainer/dashboard" class="nav-item <%= path.includes('dashboard') ? 'active' : '' %>"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
            <a href="/trainer/clients" class="nav-item <%= path.includes('clients') ? 'active' : '' %>"><i class="fas fa-users"></i> Alunos</a>
            <a href="/trainer/workouts" class="nav-item <%= path.includes('workouts') ? 'active' : '' %>"><i class="fas fa-book"></i> Biblioteca</a>
            <a href="/trainer/financial" class="nav-item <%= path.includes('financial') ? 'active' : '' %>"><i class="fas fa-wallet"></i> Financeiro</a>
        <% } %>

        <% if (role === 'admin') { %>
            <div class="nav-category">Admin</div>
            <a href="/admin/dashboard" class="nav-item <%= path.includes('dashboard') ? 'active' : '' %>"><i class="fas fa-chart-pie"></i> KPIs</a>
            <a href="/admin/users" class="nav-item <%= path.includes('users') ? 'active' : '' %>"><i class="fas fa-users-cog"></i> Usuários</a>
            <a href="/admin/approvals" class="nav-item <%= path.includes('approvals') ? 'active' : '' %>"><i class="fas fa-check-circle"></i> Aprovações</a>
            <a href="/admin/settings" class="nav-item <%= path.includes('settings') ? 'active' : '' %>"><i class="fas fa-cogs"></i> Sistema</a>
        <% } %>
    </nav>

    <div class="sidebar-footer">
        <a href="/auth/logout" class="btn btn-outline btn-block" style="color: #ef4444; border-color: #ef4444; justify-content: flex-start;">
            <i class="fas fa-sign-out-alt" style="margin-right: 10px;"></i> Sair
        </a>
    </div>
</aside>
