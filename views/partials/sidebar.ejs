<div id="sidebar-overlay" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:45; backdrop-filter:blur(3px);"></div>

<aside class="sidebar" id="sidebar">
    <div class="brand">
        <span style="color: var(--neon-primary);">⚡</span> MOMENTUM
    </div>

    <nav class="nav-links">
        <% const role = user.role; %>
        
        <% if (role === 'client') { %>
            <a href="/client/dashboard" class="nav-item <%= path === '/client/dashboard' ? 'active' : '' %>">
                <i class="fas fa-th-large"></i> Painel
            </a>
            <a href="/client/workouts" class="nav-item <%= path.includes('workouts') ? 'active' : '' %>">
                <i class="fas fa-dumbbell"></i> Treinos
            </a>
            <a href="/client/evolution" class="nav-item <%= path.includes('evolution') ? 'active' : '' %>">
                <i class="fas fa-chart-line"></i> Evolução
            </a>
            <a href="/client/profile" class="nav-item <%= path.includes('profile') ? 'active' : '' %>">
                <i class="fas fa-user-astronaut"></i> Perfil
            </a>
            <a href="/client/plans" class="nav-item <%= path.includes('plans') ? 'active' : '' %>">
                <i class="fas fa-credit-card"></i> Planos
            </a>
        <% } %>

        <% if (role === 'trainer') { %>
            <a href="/trainer/dashboard" class="nav-item <%= path === '/trainer/dashboard' ? 'active' : '' %>">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </a>
            <a href="/trainer/clients" class="nav-item <%= path.includes('clients') ? 'active' : '' %>">
                <i class="fas fa-users"></i> Alunos
            </a>
            <a href="/trainer/workouts" class="nav-item <%= path.includes('workouts') ? 'active' : '' %>">
                <i class="fas fa-book"></i> Biblioteca
            </a>
        <% } %>

        <% if (role === 'admin' || role === 'superadmin') { %>
            <a href="/admin/dashboard" class="nav-item <%= path.includes('dashboard') ? 'active' : '' %>">
                <i class="fas fa-shield-alt"></i> Admin
            </a>
            <a href="/admin/users" class="nav-item <%= path.includes('users') ? 'active' : '' %>">
                <i class="fas fa-user-cog"></i> Usuários
            </a>
        <% } %>

        <div style="margin-top: auto; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 1rem;">
            <a href="/auth/logout" class="nav-item" style="color: #ef4444;">
                <i class="fas fa-power-off"></i> Sair
            </a>
        </div>
    </nav>
</aside>
