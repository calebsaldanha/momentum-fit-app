<div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

<aside class="sidebar" id="appSidebar">
    <div class="sidebar-brand">
        <i class="fas fa-bolt" style="color: var(--primary-color); margin-right: 10px;"></i>
        Momentum Fit
    </div>

    <nav class="sidebar-nav">
        <% const r = user.role; %>
        
        <% if (r === 'client') { %>
            <div style="padding: 0 12px; margin-bottom: 10px; font-size: 0.75rem; color: #555; text-transform: uppercase; font-weight: bold;">Treino</div>
            <a href="/client/dashboard" class="side-link <%= path.includes('dashboard') ? 'active' : '' %>">
                <i class="fas fa-home"></i> Visão Geral
            </a>
            <a href="/client/workouts" class="side-link <%= path.includes('workouts') ? 'active' : '' %>">
                <i class="fas fa-dumbbell"></i> Meus Treinos
            </a>
            
            <div style="padding: 0 12px; margin-top: 20px; margin-bottom: 10px; font-size: 0.75rem; color: #555; text-transform: uppercase; font-weight: bold;">Dados</div>
            <a href="/client/evolution" class="side-link <%= path.includes('evolution') ? 'active' : '' %>">
                <i class="fas fa-chart-line"></i> Evolução
            </a>
            <a href="/client/ai-coach" class="side-link <%= path.includes('ai-coach') ? 'active' : '' %>">
                <i class="fas fa-robot"></i> IA Coach
            </a>
        <% } %>

        <% if (r === 'trainer') { %>
            <a href="/trainer/dashboard" class="side-link <%= path.includes('dashboard') ? 'active' : '' %>">
                <i class="fas fa-columns"></i> Painel
            </a>
            <a href="/trainer/clients" class="side-link <%= path.includes('clients') ? 'active' : '' %>">
                <i class="fas fa-users"></i> Alunos
            </a>
        <% } %>

        <div style="margin-top: auto; padding-top: 20px; border-top: 1px solid #222;">
            <a href="/auth/logout" class="side-link" style="color: #ff4d4d;">
                <i class="fas fa-sign-out-alt"></i> Sair
            </a>
        </div>
    </nav>
</aside>

<script>
    function toggleSidebar() {
        const sb = document.getElementById('appSidebar');
        const ov = document.getElementById('sidebarOverlay');
        sb.classList.toggle('active');
        ov.classList.toggle('active');
    }
</script>
