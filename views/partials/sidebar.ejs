<div class="mobile-dash-header desktop-hidden">
    <span style="font-weight: 700; color: white;">Menu do Painel</span>
    <button id="sidebarToggle" class="btn btn-ghost"><i class="fas fa-bars"></i></button>
</div>

<div class="sidebar-overlay" id="sidebarOverlay"></div>

<aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <span style="color:white; font-weight:700; font-size: 0.9rem;">ÁREA DO <%= user.role.toUpperCase() %></span>
    </div>

    <nav class="sidebar-nav">
        <% if (user.role === 'client') { %>
            <div class="menu-category">Principal</div>
            <a href="/client/dashboard" class="nav-item <%= currentPage === '/client/dashboard' ? 'active' : '' %>"><i class="fas fa-home"></i> Dashboard</a>
            <a href="/client/workouts" class="nav-item <%= currentPage === '/client/workouts' ? 'active' : '' %>"><i class="fas fa-dumbbell"></i> Meus Treinos</a>
            <a href="/client/evolution" class="nav-item <%= currentPage === '/client/evolution' ? 'active' : '' %>"><i class="fas fa-chart-line"></i> Evolução & Métricas</a>
            
            <div class="menu-category">Comunicação</div>
            <a href="/client/ai-coach" class="nav-item <%= currentPage === '/client/ai-coach' ? 'active' : '' %>"><i class="fas fa-robot"></i> IA Coach</a>
            <a href="/chat" class="nav-item <%= currentPage === '/chat' ? 'active' : '' %>"><i class="fas fa-comments"></i> Chat Personal</a>
            
            <div class="menu-category">Conta</div>
            <a href="/client/profile" class="nav-item <%= currentPage === '/client/profile' ? 'active' : '' %>"><i class="fas fa-user"></i> Meu Perfil</a>
            <a href="/client/plans" class="nav-item <%= currentPage === '/client/plans' ? 'active' : '' %>"><i class="fas fa-credit-card"></i> Planos & Pagamentos</a>
            <a href="/client/content" class="nav-item <%= currentPage === '/client/content' ? 'active' : '' %>"><i class="fas fa-bookmark"></i> Conteúdos Salvos</a>
            <a href="/client/settings" class="nav-item <%= currentPage === '/client/settings' ? 'active' : '' %>"><i class="fas fa-cog"></i> Configurações</a>

        <% } else if (user.role === 'trainer') { %>
            <div class="menu-category">Gestão</div>
            <a href="/trainer/dashboard" class="nav-item <%= currentPage === '/trainer/dashboard' ? 'active' : '' %>"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
            <a href="/trainer/clients" class="nav-item <%= currentPage === '/trainer/clients' ? 'active' : '' %>"><i class="fas fa-users"></i> Gestão de Alunos</a>
            <a href="/trainer/schedule" class="nav-item <%= currentPage === '/trainer/schedule' ? 'active' : '' %>"><i class="fas fa-calendar-alt"></i> Agenda</a>
            
            <div class="menu-category">Técnico</div>
            <a href="/workouts/create" class="nav-item <%= currentPage === '/workouts/create' ? 'active' : '' %>"><i class="fas fa-plus-circle"></i> Criar Treino</a>
            <a href="/workouts/library" class="nav-item <%= currentPage === '/workouts/library' ? 'active' : '' %>"><i class="fas fa-book"></i> Biblioteca Exercícios</a>
            <a href="/chat" class="nav-item <%= currentPage === '/chat' ? 'active' : '' %>"><i class="fas fa-comments"></i> Chat</a>

            <div class="menu-category">Carreira</div>
            <a href="/trainer/financial" class="nav-item <%= currentPage === '/trainer/financial' ? 'active' : '' %>"><i class="fas fa-wallet"></i> Financeiro</a>
            <a href="/trainer/content" class="nav-item <%= currentPage === '/trainer/content' ? 'active' : '' %>"><i class="fas fa-pen-fancy"></i> Criar Conteúdo</a>
            <a href="/trainer/profile" class="nav-item <%= currentPage === '/trainer/profile' ? 'active' : '' %>"><i class="fas fa-id-card"></i> Perfil Profissional</a>
            <a href="/trainer/settings" class="nav-item <%= currentPage === '/trainer/settings' ? 'active' : '' %>"><i class="fas fa-cog"></i> Configurações</a>

        <% } else if (user.role === 'admin' || user.role === 'superadmin') { %>
            <div class="menu-category">Visão Global</div>
            <a href="/admin/dashboard" class="nav-item <%= currentPage === '/admin/dashboard' ? 'active' : '' %>"><i class="fas fa-chart-pie"></i> Dashboard Admin</a>
            <a href="/admin/approvals" class="nav-item <%= currentPage === '/admin/approvals' ? 'active' : '' %>"><i class="fas fa-check-double"></i> Aprovações Pendentes</a>
            
            <div class="menu-category">Gestão</div>
            <a href="/admin/clients" class="nav-item <%= currentPage === '/admin/clients' ? 'active' : '' %>"><i class="fas fa-users-cog"></i> Gestão de Usuários</a>
            <a href="/admin/content" class="nav-item <%= currentPage === '/admin/content' ? 'active' : '' %>"><i class="fas fa-file-alt"></i> Artigos e Conteúdos</a>
            <a href="/admin/plans" class="nav-item <%= currentPage === '/admin/plans' ? 'active' : '' %>"><i class="fas fa-tags"></i> Gestão de Planos</a>
            
            <div class="menu-category">Sistema</div>
            <a href="/admin/finance" class="nav-item <%= currentPage === '/admin/finance' ? 'active' : '' %>"><i class="fas fa-coins"></i> Financeiro Geral</a>
            <a href="/admin/ia-audit" class="nav-item <%= currentPage === '/admin/ia-audit' ? 'active' : '' %>"><i class="fas fa-brain"></i> Auditoria de IA</a>
            <a href="/admin/settings" class="nav-item <%= currentPage === '/admin/settings' ? 'active' : '' %>"><i class="fas fa-cogs"></i> Configurações Globais</a>
        <% } %>
    </nav>
</aside>

<script>
    // Lógica do Toggle Sidebar Mobile
    const sbToggle = document.getElementById('sidebarToggle');
    const sb = document.getElementById('sidebar');
    const sbOverlay = document.getElementById('sidebarOverlay');
    
    if(sbToggle) {
        sbToggle.addEventListener('click', () => {
            sb.classList.toggle('active');
            sbOverlay.classList.toggle('active');
        });
        sbOverlay.addEventListener('click', () => {
            sb.classList.remove('active');
            sbOverlay.classList.remove('active');
        });
    }
</script>
